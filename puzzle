import os
import sys
import random
import pygame

'''blank block move left'''
def Right(screen, void, col):
    if void % col == 0:
        return void
    screen[void-1], screen[void] = screen[void], screen[void-1]
    return void - 1
    
'''blank block move right'''
def Left(screen, void, col):
    if (void+1) % col == 0:
        return void
    screen[void+1], screen[void] = screen[void], screen[void+1]
    return void + 1

'''blank block move up'''
def Down(screen, void, col):
        if void < col:
            return void
        screen[void-1], screen[void] = screen[void], screen[void-col]
        return void - col

'''blank block move down'''
def Up(screen, void, row, col):
        if void >= (row-1) * col:
            return void
        screen[void+col], screen[void] = screen[void], screen[void+col]
        return void + col

def Mix(row, col, grid):
    #Rearrange the blocks
    screen = []
    for i in range(grid):
        screen.append(i)
    # create a void block in the right corner
    void = grid - 1
    screen[void] = -1
    for i in range(10):
        direction = random.randint(0, 3)
        #move to the left
        if direction == 0:
            void = Left(screen, void, col)
        #move to the right
        elif direction == 1:
            void = Right(screen, void, col)
        #move up
        elif direction == 2:
            void = Up(screen, void, row, col)
        #move down
        elif direction == 3:
            void = Down(screen, void, col)
    return screen, void
    
'''choose image randomly'''
def Chosepicture(path):
    picturename = os.listdir(picture_path)
    # verify whether there is a picture
    # the image save path is same as the program path, convenient to get the path
    # then get the image path
    if len(picturename) > 0:
        return os.path.join(picture_path, random.choice(picturename))
        
